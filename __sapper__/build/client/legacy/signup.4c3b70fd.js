import{_ as n,a as e,b as t,c as a,i as r,s,d as o,S as c,f as i,t as u,j as p,k as l,l as f,g as h,n as m,o as d,r as v,e as y,E as b,h as E,m as w,F as N,G as C,w as k,H as x,u as L,p as T,x as P,y as g,B as A,C as B,D as R,A as S}from"./client.5b898764.js";function j(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,s=e(n);if(a){var o=e(this).constructor;r=Reflect.construct(s,arguments,o)}else r=s.apply(this,arguments);return t(this,r)}}function U(n){var e,t;return{c:function(){e=i("p"),t=u(n[4])},l:function(a){e=p(a,"P",{});var r=l(e);t=f(r,n[4]),r.forEach(h)},m:function(n,a){m(n,e,a),d(e,t)},p:function(n,e){16&e&&v(t,n[4])},d:function(n){n&&h(e)}}}function I(n){var e,t,a,r,s,o,c,v,P,g,A,B,R,S,j,I,O,D,_,F,G,H,J=n[4]&&U(n);return{c:function(){e=i("form"),t=i("label"),a=u("Nombre:\n        "),r=i("input"),s=y(),o=i("label"),c=u("Email:\n        "),v=i("input"),P=y(),g=i("label"),A=u("Contraseña:\n        "),B=i("input"),R=y(),S=i("label"),j=u("Confirme Contraseña:\n        "),I=i("input"),O=y(),D=i("button"),_=u("Signup"),F=y(),J&&J.c(),G=b(),this.h()},l:function(n){e=p(n,"FORM",{method:!0});var i=l(e);t=p(i,"LABEL",{});var u=l(t);a=f(u,"Nombre:\n        "),r=p(u,"INPUT",{type:!0,placeholder:!0}),u.forEach(h),s=E(i),o=p(i,"LABEL",{});var m=l(o);c=f(m,"Email:\n        "),v=p(m,"INPUT",{type:!0,placeholder:!0}),m.forEach(h),P=E(i),g=p(i,"LABEL",{});var d=l(g);A=f(d,"Contraseña:\n        "),B=p(d,"INPUT",{id:!0,name:!0,type:!0,placeholder:!0}),d.forEach(h),R=E(i),S=p(i,"LABEL",{});var y=l(S);j=f(y,"Confirme Contraseña:\n        "),I=p(y,"INPUT",{id:!0,name:!0,type:!0,placeholder:!0}),y.forEach(h),O=E(i),D=p(i,"BUTTON",{type:!0,onclick:!0});var w=l(D);_=f(w,"Signup"),w.forEach(h),i.forEach(h),F=E(n),J&&J.l(n),G=b(),this.h()},h:function(){w(r,"type","username"),w(r,"placeholder","Nombre"),w(v,"type","email"),w(v,"placeholder","email"),w(B,"id","pass"),w(B,"name","password"),w(B,"type","password"),w(B,"placeholder","password"),w(I,"id","confirm_pass"),w(I,"name","confirm_pass"),w(I,"type","password"),w(I,"placeholder","Confirme contraseña"),w(D,"type","submit"),w(D,"onclick","submit"),w(e,"method","post")},m:function(i,u,p){m(i,e,u),d(e,t),d(t,a),d(t,r),N(r,n[2]),d(e,s),d(e,o),d(o,c),d(o,v),N(v,n[3]),d(e,P),d(e,g),d(g,A),d(g,B),N(B,n[0]),d(e,R),d(e,S),d(S,j),d(S,I),N(I,n[1]),d(e,O),d(e,D),d(D,_),m(i,F,u),J&&J.m(i,u),m(i,G,u),p&&C(H),H=[k(r,"input",n[8]),k(v,"input",n[9]),k(B,"input",n[10]),k(I,"input",n[11]),k(e,"submit",x(n[6]))]},p:function(n,e){var t=L(e,1)[0];4&t&&N(r,n[2]),8&t&&v.value!==n[3]&&N(v,n[3]),1&t&&B.value!==n[0]&&N(B,n[0]),2&t&&I.value!==n[1]&&N(I,n[1]),n[4]?J?J.p(n,t):((J=U(n)).c(),J.m(G.parentNode,G)):J&&(J.d(1),J=null)},i:T,o:T,d:function(n){n&&h(e),n&&h(F),J&&J.d(n),n&&h(G),C(H)}}}function O(n,e,t){var a,r=P().session;g(n,r,(function(n){return t(7,a=n)}));var s,o="",c="",i="",u="",p=function(){var n=A(B.mark((function n(){var e,p;return B.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o!==c){n.next=10;break}return n.next=3,fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:i,email:u,password:o})});case 3:return e=n.sent,n.next=6,e.json();case 6:(p=n.sent).error?t(4,s=p.error):(R(r,a.token=p.token,a),R(r,a.user=p.user.username,a),S("/profile")),n.next=11;break;case 10:placeholderpass="password confirm not match",placeholderpassconfirm="please retry passwords";case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return[o,c,i,u,s,r,p,a,function(){i=this.value,t(2,i)},function(){u=this.value,t(3,u)},function(){o=this.value,t(0,o)},function(){c=this.value,t(1,c)}]}var D=function(e){n(i,c);var t=j(i);function i(n){var e;return a(this,i),e=t.call(this),r(o(e),n,O,I,s,{}),e}return i}();export default D;
