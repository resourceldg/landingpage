import{S as a,i as s,s as t,e as o,t as e,b as r,f as n,g as i,d as c,j as p,k as l,l as u,a as h,x as f,c as d,h as m,y as v,z as E,o as y,A as b,n as g,p as A,r as P,w,v as L}from"./client.b9487793.js";function N(a){let s,t;return{c(){s=o("p"),t=e(a[2])},l(o){s=r(o,"P",{});var e=n(s);t=i(e,a[2]),e.forEach(c)},m(a,o){p(a,s,o),l(s,t)},p(a,s){4&s&&u(t,a[2])},d(a){a&&c(s)}}}function S(a){let s,t,u,A,P,w,L,S,T,j,k,O,x,B,U,q,I,z,C,F,J=a[2]&&N(a);return{c(){s=o("form"),t=o("label"),u=e("Email: "),A=o("input"),P=h(),w=o("label"),L=e("Password: "),S=o("input"),T=h(),j=o("button"),k=e("Login"),O=h(),x=o("p"),B=e("Sin aún no estás registrado,ven por "),U=o("span"),q=o("a"),I=e("Aquí"),z=h(),J&&J.c(),C=f(),this.h()},l(a){s=r(a,"FORM",{method:!0});var o=n(s);t=r(o,"LABEL",{});var e=n(t);u=i(e,"Email: "),A=r(e,"INPUT",{type:!0}),e.forEach(c),P=d(o),w=r(o,"LABEL",{});var p=n(w);L=i(p,"Password: "),S=r(p,"INPUT",{type:!0}),p.forEach(c),T=d(o),j=r(o,"BUTTON",{type:!0,onclick:!0});var l=n(j);k=i(l,"Login"),l.forEach(c),O=d(o),x=r(o,"P",{});var h=n(x);B=i(h,"Sin aún no estás registrado,ven por "),U=r(h,"SPAN",{});var m=n(U);q=r(m,"A",{href:!0});var v=n(q);I=i(v,"Aquí"),v.forEach(c),m.forEach(c),h.forEach(c),o.forEach(c),z=d(a),J&&J.l(a),C=f(),this.h()},h(){m(A,"type","email"),m(S,"type","password"),m(j,"type","submit"),m(j,"onclick","submit"),m(q,"href","signup"),m(s,"method","post")},m(o,e,r){p(o,s,e),l(s,t),l(t,u),l(t,A),v(A,a[1]),l(s,P),l(s,w),l(w,L),l(w,S),v(S,a[0]),l(s,T),l(s,j),l(j,k),l(s,O),l(s,x),l(x,B),l(x,U),l(U,q),l(q,I),p(o,z,e),J&&J.m(o,e),p(o,C,e),r&&E(F),F=[y(A,"input",a[6]),y(S,"input",a[7]),y(s,"submit",b(a[4]))]},p(a,[s]){2&s&&A.value!==a[1]&&v(A,a[1]),1&s&&S.value!==a[0]&&v(S,a[0]),a[2]?J?J.p(a,s):(J=N(a),J.c(),J.m(C.parentNode,C)):J&&(J.d(1),J=null)},i:g,o:g,d(a){a&&c(s),a&&c(z),J&&J.d(a),a&&c(C),E(F)}}}function T(a,s,t){let o;const{session:e}=A();P(a,e,a=>t(5,o=a));let r,n="",i="";return[n,i,r,e,async()=>{const a=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:i,password:n})}),s=await a.json();s.error?t(2,r=s.error):(w(e,o.token=s.token,o),w(e,o.user=s.user,o),L("/profile"))},o,function(){i=this.value,t(1,i)},function(){n=this.value,t(0,n)}]}export default class extends a{constructor(a){super(),s(this,a,T,S,t,{})}}
