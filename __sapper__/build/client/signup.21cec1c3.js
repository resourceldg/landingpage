import{S as a,i as e,s,e as n,t as o,b as t,f as r,g as i,d as p,j as l,k as c,l as u,a as m,x as d,c as h,h as f,y,z as v,o as b,A as E,n as w,p as N,r as C,w as L,v as T}from"./client.b9487793.js";function A(a){let e,s;return{c(){e=n("p"),s=o(a[4])},l(n){e=t(n,"P",{});var o=r(e);s=i(o,a[4]),o.forEach(p)},m(a,n){l(a,e,n),c(e,s)},p(a,e){16&e&&u(s,a[4])},d(a){a&&p(e)}}}function P(a){let e,s,u,N,C,L,T,P,g,j,k,B,S,U,I,O,x,_,z,F,J,M,R=a[4]&&A(a);return{c(){e=n("form"),s=n("label"),u=o("Nombre:\n        "),N=n("input"),C=m(),L=n("label"),T=o("Email:\n        "),P=n("input"),g=m(),j=n("label"),k=o("Contraseña:\n        "),B=n("input"),S=m(),U=n("label"),I=o("Confirme Contraseña:\n        "),O=n("input"),x=m(),_=n("button"),z=o("Signup"),F=m(),R&&R.c(),J=d(),this.h()},l(a){e=t(a,"FORM",{method:!0});var n=r(e);s=t(n,"LABEL",{});var o=r(s);u=i(o,"Nombre:\n        "),N=t(o,"INPUT",{type:!0,placeholder:!0}),o.forEach(p),C=h(n),L=t(n,"LABEL",{});var l=r(L);T=i(l,"Email:\n        "),P=t(l,"INPUT",{type:!0,placeholder:!0}),l.forEach(p),g=h(n),j=t(n,"LABEL",{});var c=r(j);k=i(c,"Contraseña:\n        "),B=t(c,"INPUT",{id:!0,name:!0,type:!0,placeholder:!0}),c.forEach(p),S=h(n),U=t(n,"LABEL",{});var m=r(U);I=i(m,"Confirme Contraseña:\n        "),O=t(m,"INPUT",{id:!0,name:!0,type:!0,placeholder:!0}),m.forEach(p),x=h(n),_=t(n,"BUTTON",{type:!0,onclick:!0});var f=r(_);z=i(f,"Signup"),f.forEach(p),n.forEach(p),F=h(a),R&&R.l(a),J=d(),this.h()},h(){f(N,"type","username"),f(N,"placeholder","Nombre"),f(P,"type","email"),f(P,"placeholder","email"),f(B,"id","pass"),f(B,"name","password"),f(B,"type","password"),f(B,"placeholder","password"),f(O,"id","confirm_pass"),f(O,"name","confirm_pass"),f(O,"type","password"),f(O,"placeholder","Confirme contraseña"),f(_,"type","submit"),f(_,"onclick","submit"),f(e,"method","post")},m(n,o,t){l(n,e,o),c(e,s),c(s,u),c(s,N),y(N,a[2]),c(e,C),c(e,L),c(L,T),c(L,P),y(P,a[3]),c(e,g),c(e,j),c(j,k),c(j,B),y(B,a[0]),c(e,S),c(e,U),c(U,I),c(U,O),y(O,a[1]),c(e,x),c(e,_),c(_,z),l(n,F,o),R&&R.m(n,o),l(n,J,o),t&&v(M),M=[b(N,"input",a[8]),b(P,"input",a[9]),b(B,"input",a[10]),b(O,"input",a[11]),b(e,"submit",E(a[6]))]},p(a,[e]){4&e&&y(N,a[2]),8&e&&P.value!==a[3]&&y(P,a[3]),1&e&&B.value!==a[0]&&y(B,a[0]),2&e&&O.value!==a[1]&&y(O,a[1]),a[4]?R?R.p(a,e):(R=A(a),R.c(),R.m(J.parentNode,J)):R&&(R.d(1),R=null)},i:w,o:w,d(a){a&&p(e),a&&p(F),R&&R.d(a),a&&p(J),v(M)}}}function g(a,e,s){let n;const{session:o}=N();C(a,o,a=>s(7,n=a));let t,r="",i="",p="",l="";return[r,i,p,l,t,o,async()=>{if(r===i){const a=await fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:p,email:l,password:r})}),e=await a.json();e.error?s(4,t=e.error):(L(o,n.token=e.token,n),L(o,n.user=e.user.username,n),T("/profile"))}else placeholderpass="password confirm not match",placeholderpassconfirm="please retry passwords"},n,function(){p=this.value,s(2,p)},function(){l=this.value,s(3,l)},function(){r=this.value,s(0,r)},function(){i=this.value,s(1,i)}]}export default class extends a{constructor(a){super(),e(this,a,g,P,s,{})}}
